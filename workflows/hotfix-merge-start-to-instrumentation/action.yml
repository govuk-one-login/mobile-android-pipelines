name: 'Hotfix setup to instrumentation tests'
description: 'Github actions to verify version and run instrumentation tests'
icon: 'check-circle'
color: 'blue'

runs:
  using: "composite"
  steps:
    - name: Verify Conventional commit standards against latest hotfix git tag
      id: verify-version
      uses: ./mobile-android-pipelines/actions/get-next-version-from-branch

    - name: Increment and push hotfix git tag
      uses: ./mobile-android-pipelines/actions/increment-hotfix-tag
      with:
        version-name: ${{ steps.verify-version.next-version}}

    - name: Lint script files
      uses: ./mobile-android-pipelines/actions/lint

    - name: Run instrumentation tests
      uses: ./mobile-android-pipelines/actions/run-instrumentation-tests
